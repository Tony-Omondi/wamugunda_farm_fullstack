{% extends 'base.html' %}
{% load static %}

{% block title %}Wamugunda Farm - About Us{% endblock %}

{% block content %}
<!--==============================
Breadcumb
============================== -->
<div class="breadcumb-wrapper" data-bg-src="{% static 'assets/img/bg/breadcumb-bg.jpg' %}">
    <div class="container">
        <div class="breadcumb-content">
            <h1 class="breadcumb-title">About Us</h1>
            <ul class="breadcumb-menu">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li>About Us</li>
            </ul>
        </div>
    </div>
</div>

<!--==============================
About Area  
==============================-->
<div class="overflow-hidden space" id="about-sec">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-xl-6 mb-30 mb-xl-0">
                <div class="img-box1">
                    <div class="img1">
                        <img src="{% static 'assets/img/normal/about_1_1.jpg' %}" alt="About">
                    </div>
                    <div class="img2">
                        <img src="{% static 'assets/img/normal/about_1_2.png' %}" alt="Image">
                    </div>
                    <div class="shape1 movingX">
                        <img src="{% static 'assets/img/normal/about_1_3.png' %}" alt="Image">
                    </div>
                    <div class="year-counter">
                        <div class="year-counter_number"><span class="counter-number">30</span>+</div>
                        <p class="year-counter_text">Years Experience</p>
                    </div>
                </div>
            </div>
            <div class="col-xl-6">
                <div class="ps-xxl-5 ps-xl-2 ms-xl-1 text-center text-xl-start">
                    <div class="title-area mb-32">
                        <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="shape">About Wamugunda Farm</span>
                        <h2 class="sec-title">Origin Story</h2>
                        <p class="sec-text">Wamugunda Farm was founded in 1995 in Murang'a County, Central Kenya, on land that was once part of the former Sisal Farm near Murang'a Pioneers School.
                            The farm covers approximately 10 hectares, including rocky sections that provide ideal conditions for mangoes and other fruits.
                            From the very beginning, our journey has been rooted in tree planting â€” a commitment to restoring the environment and transforming the micro-climate of our community.</p>
                    </div>
                    <div class="about-feature-wrap">
                        <div class="about-feature">
                            <div class="box-icon">
                                <img src="{% static 'assets/img/icon/about_feature_1.svg' %}" alt="Icon">
                            </div>
                            <h3 class="box-title">The Agriculture Leader</h3>
                        </div>
                        <div class="about-feature">
                            <div class="box-icon">
                                <img src="{% static 'assets/img/icon/about_feature_2.svg' %}" alt="Icon">
                            </div>
                            <h3 class="box-title">Smart Organic Solutions</h3>
                        </div>
                    </div>
                    <div>
                        <a href="{% url 'shop:shop_list' %}" class="th-btn">Shop Now<i class="fas fa-chevrons-right ms-2"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--==============================
Process Area  
==============================-->
<section class="space bg-smoke2" id="process-sec">
    <div class="shape-mockup" data-top="0" data-left="0"><img src="{% static 'assets/img/shape/vector_shape_7.png' %}" alt="shape"></div>
    <div class="shape-mockup" data-bottom="0" data-right="0"><img src="{% static 'assets/img/shape/vector_shape_6.png' %}" alt="shape"></div>
    <div class="container">
        <div class="title-area text-center">
            <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="Icon">How Make Quality Foods</span>
            <h2 class="sec-title">How We Work Project?</h2>
        </div>
        <div class="row gy-4 justify-content-center">
            <div class="col-xl-3 col-md-6 process-box-wrap">
                <div class="process-box">
                    <div class="box-icon">
                        <img src="{% static 'assets/img/icon/process_box_1.svg' %}" alt="icon">
                    </div>
                    <div class="box-img" data-mask-src="{% static 'assets/img/bg/process_bg_shape.png' %}">
                        <img src="{% static 'assets/img/normal/process_box_1.jpg' %}" alt="image">
                    </div>
                    <p class="box-number">Step - 01</p>
                    <h3 class="box-title">Work Planning</h3>
                    <p class="box-text">Begin by conducting thorough soil tests to understand its composition, pH levels, and nutrient.</p>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 process-box-wrap">
                <div class="process-box">
                    <div class="box-icon">
                        <img src="{% static 'assets/img/icon/process_box_2.svg' %}" alt="icon">
                    </div>
                    <div class="box-img" data-mask-src="{% static 'assets/img/bg/process_bg_shape.png' %}">
                        <img src="{% static 'assets/img/normal/process_box_2.jpg' %}" alt="image">
                    </div>
                    <p class="box-number">Step - 02</p>
                    <h3 class="box-title">Farm Growing</h3>
                    <p class="box-text">Begin by conducting thorough soil tests to understand its composition, pH levels, and nutrient.</p>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 process-box-wrap">
                <div class="process-box">
                    <div class="box-icon">
                        <img src="{% static 'assets/img/icon/process_box_3.svg' %}" alt="icon">
                    </div>
                    <div class="box-img" data-mask-src="{% static 'assets/img/bg/process_bg_shape.png' %}">
                        <img src="{% static 'assets/img/normal/process_box_3.jpg' %}" alt="image">
                    </div>
                    <p class="box-number">Step - 03</p>
                    <h3 class="box-title">Crop Harvesting</h3>
                    <p class="box-text">Begin by conducting thorough soil tests to understand its composition, pH levels, and nutrient.</p>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 process-box-wrap">
                <div class="process-box">
                    <div class="box-icon">
                        <img src="{% static 'assets/img/icon/process_box_4.svg' %}" alt="icon">
                    </div>
                    <div class="box-img" data-mask-src="{% static 'assets/img/bg/process_bg_shape.png' %}">
                        <img src="{% static 'assets/img/normal/process_box_4.jpg' %}" alt="image">
                    </div>
                    <p class="box-number">Step - 04</p>
                    <h3 class="box-title">Food Processing</h3>
                    <p class="box-text">Begin by conducting thorough soil tests to understand its composition, pH levels, and nutrient.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!--==============================
Counter Area  
==============================-->
<div class="counter-sec11" data-bg-src="{% static 'assets/img/bg/counter_bg_1_1.jpg' %}">
    <div class="container">
        <div class="counter-card-wrap">
            <div class="counter-card">
                <div class="box-icon">
                    <img src="{% static 'assets/img/icon/counter_card_1.svg' %}" alt="Icon">
                </div>
                <div class="media-body">
                    <h2 class="box-number"><span class="counter-number">15663</span>+</h2>
                    <p class="box-text">Our Total Products</p>
                </div>
            </div>
            <div class="divider"></div>
            <div class="counter-card">
                <div class="box-icon">
                    <img src="{% static 'assets/img/icon/counter_card_2.svg' %}" alt="Icon">
                </div>
                <div class="media-body">
                    <h2 class="box-number"><span class="counter-number">356</span>+</h2>
                    <p class="box-text">Team Members</p>
                </div>
            </div>
            <div class="divider"></div>
            <div class="counter-card">
                <div class="box-icon">
                    <img src="{% static 'assets/img/icon/counter_card_3.svg' %}" alt="Icon">
                </div>
                <div class="media-body">
                    <h2 class="box-number"><span class="counter-number">2365</span>+</h2>
                    <p class="box-text">Satisfied Customers</p>
                </div>
            </div>
            <div class="divider"></div>
            <div class="counter-card">
                <div class="box-icon">
                    <img src="{% static 'assets/img/icon/counter_card_4.svg' %}" alt="Icon">
                </div>
                <div class="media-body">
                    <h2 class="box-number"><span class="counter-number">156</span>+</h2>
                    <p class="box-text">Awards Winning</p>
                </div>
            </div>
            <div class="divider"></div>
        </div>
    </div>
</div>

<!--==============================
Feature Area  
==============================-->
<div class="overflow-hidden space">
    <div class="container">
        <div class="row">
            <div class="col-xl-6 text-center text-xl-start">
                <div class="title-area">
                    <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="shape">Why Choose Us</span>
                    <h2 class="sec-title">Nourish Your Body with Pure Organic Goodness!</h2>
                    <p class="sec-text">Governments have regulations in place to ensure that products labeled as organic meet specific standards. Regular inspections and audits are conducted to maintain the integrity of the organic label.</p>
                </div>
            </div>
        </div>
        <div class="text-center text-xl-start">
            <div class="choose-feature-area">
                <div class="row">
                    <div class="col-xl-7">
                        <div class="choose-feature-wrap">
                            <div class="choose-feature">
                                <div class="box-icon">
                                    <img src="{% static 'assets/img/icon/choose_feature_1.svg' %}" alt="Icon">
                                </div>
                                <h3 class="box-title">100% Organic</h3>
                                <p class="box-text">Our products are certified by reputable organic.</p>
                            </div>
                            <div class="choose-feature">
                                <div class="box-icon">
                                    <img src="{% static 'assets/img/icon/choose_feature_2.svg' %}" alt="Icon">
                                </div>
                                <h3 class="box-title">Fresh Products</h3>
                                <p class="box-text">Our products are certified by reputable organic.</p>
                            </div>
                            <div class="choose-feature">
                                <div class="box-icon">
                                    <img src="{% static 'assets/img/icon/choose_feature_3.svg' %}" alt="Icon">
                                </div>
                                <h3 class="box-title">Biodynamic Food</h3>
                                <p class="box-text">Our products are certified by reputable organic.</p>
                            </div>
                            <div class="choose-feature">
                                <div class="box-icon">
                                    <img src="{% static 'assets/img/icon/choose_feature_4.svg' %}" alt="Icon">
                                </div>
                                <h3 class="box-title">Secured Payment</h3>
                                <p class="box-text">Our products are certified by reputable organic.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-5 d-none d-xl-block">
                        <div class="img-box2-wrap">
                            <div class="img-box2">
                                <div class="img1">
                                    <img src="{% static 'assets/img/normal/why_1_1.png' %}" alt="Why">
                                </div>
                                <div class="img2">
                                    <img src="{% static 'assets/img/normal/why_1_2.png' %}" alt="Why">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--==============================
Share Your Experience Section
==============================-->
<section class="space bg-smoke2">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-40 mb-lg-0">
                <div class="title-area text-center text-lg-start">
                    <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="Icon">Share Your Story</span>
                    <h2 class="sec-title">Share Your Experience</h2>
                    <p class="sec-text mb-4">We love hearing from our valued customers! Share your experience with Wamugunda Farm's organic products and help others discover the goodness of fresh, natural produce.</p>
                    <div class="checklist">
                        <ul>
                            <li>Your feedback helps us improve</li>
                            <li>Inspire others with your story</li>
                            <li>All testimonials are reviewed before publishing</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="contact-form-wrap" data-bg-src="{% static 'assets/img/bg/contact_form_bg.png' %}">
                    <h3 class="form-title">Leave Your Testimonial</h3>
                    <form class="contact-form" id="testimonial-form" method="POST" action="{% url 'submit_testimonial' %}">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group">
                                    <input type="text" class="form-control" name="client_name" id="client_name" placeholder="Your Name" required>
                                    <i class="far fa-user"></i>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <textarea class="form-control" name="testimonial_text" id="testimonial_text" placeholder="Share your experience with Wamugunda Farm..." rows="5" required></textarea>
                                    <i class="far fa-comment"></i>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="th-btn">
                                    Submit Testimonial <i class="fas fa-chevrons-right ms-2"></i>
                                </button>
                            </div>
                            <div class="col-12">
                                <p class="form-messages mb-0 mt-3"></p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!--==============================
Testimonial Area  
==============================-->
<section class="overflow-hidden space" id="testi-sec">
    <div class="container">
        <div class="title-area text-center">
            <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="Icon">Testimonials</span>
            <h2 class="sec-title">What Our Customers Say</h2>
        </div>
        <div class="testi-box-area" data-bg-src="{% static 'assets/img/bg/testi_bg_2.png' %}">
            <div class="testi-box-img">
                <img src="{% static 'assets/img/testimonial/testi_2_1.jpg' %}" alt="Image">
            </div>
            <div class="testi-box-shape">
                <img src="{% static 'assets/img/bg/testi_box_shape.png' %}" alt="image">
            </div>
            <div class="testi-box-slide">
                <div class="swiper th-slider" id="testiSlide2" data-slider-options='{"effect":"slide"}'>
                    <div class="swiper-wrapper">
                        {% for testimonial in testimonials %}
                        <div class="swiper-slide">
                            <div class="testi-box">
                                <p class="testi-box_text">"{{ testimonial.testimonial_text }}"</p>
                                <h3 class="testi-box_name">{{ testimonial.client_name }}</h3>
                                <span class="testi-box_desig">Happy Customer</span>
                            </div>
                        </div>
                        {% empty %}
                        <!-- Single empty state message when no testimonials exist -->
                        <div class="swiper-slide">
                            <div class="testi-box">
                                <p class="testi-box_text">No testimonials yet. Be the first to share your experience with Wamugunda Farm!</p>
                                <h3 class="testi-box_name">Share Your Story</h3>
                                <span class="testi-box_desig">Be the first to review</span>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="testi-box_quote">
                    <img src="{% static 'assets/img/testimonial/quote_1.png' %}" alt="Image">
                </div>
                <div class="icon-box">
                    <button data-slider-prev="#testiSlide2" class="slider-arrow default"><i class="far fa-arrow-left"></i></button>
                    <button data-slider-next="#testiSlide2" class="slider-arrow default"><i class="far fa-arrow-right"></i></button>
                </div>
            </div>
        </div>
    </div>
</section>

<!--==============================
Team Area  
==============================-->
<section class="space">
    <div class="container z-index-common">
        <div class="row justify-content-center">
            <div class="col-xl-6 col-lg-7 col-md-8">
                <div class="title-area text-center">
                    <span class="sub-title"><img src="{% static 'assets/img/theme-img/title_icon.svg' %}" alt="Icon">Team Members</span>
                    <h2 class="sec-title">We Have Awesome Team Here to Help You!</h2>
                </div>
            </div>
        </div>
        <div class="row gy-40 justify-content-center">
            <!-- Single Item -->
            <div class="col-xl-4 col-md-6">
                <div class="th-team team-card">
                    <div class="img-wrap">
                        <div class="shape" data-mask-src="{% static 'assets/img/bg/team_card_bg.png' %}"></div>
                        <div class="team-img">
                            <img src="{% static 'assets/img/team/team_1_1.jpg' %}" alt="Team">
                        </div>
                    </div>
                    <div class="box-content">
                        <span class="team-desig">Senior Farmers</span>
                        <h3 class="box-title"><a href="team-details.html">Wamugunda</a></h3>
                        <div class="social-links">
                            <a target="_blank" href="https://facebook.com/"><i class="fab fa-facebook-f"></i></a>
                            <a target="_blank" href="https://twitter.com/"><i class="fab fa-twitter"></i></a>
                            <a target="_blank" href="https://instagram.com/"><i class="fab fa-instagram"></i></a>
                            <a target="_blank" href="https://linkedin.com/"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Single Item -->
            <div class="col-xl-4 col-md-6">
                <div class="th-team team-card">
                    <div class="img-wrap">
                        <div class="shape" data-mask-src="{% static 'assets/img/bg/team_card_bg.png' %}"></div>
                        <div class="team-img">
                            <img src="{% static 'assets/img/team/team_1_2.jpg' %}" alt="Team">
                        </div>
                    </div>
                    <div class="box-content">
                        <span class="team-desig">Junior Farmers</span>
                        <h3 class="box-title"><a href="team-details.html">Douglus</a></h3>
                        <div class="social-links">
                            <a target="_blank" href="https://facebook.com/"><i class="fab fa-facebook-f"></i></a>
                            <a target="_blank" href="https://twitter.com/"><i class="fab fa-twitter"></i></a>
                            <a target="_blank" href="https://instagram.com/"><i class="fab fa-instagram"></i></a>
                            <a target="_blank" href="https://linkedin.com/"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Single Item -->
            <div class="col-xl-4 col-md-6">
                <div class="th-team team-card">
                    <div class="img-wrap">
                        <div class="shape" data-mask-src="{% static 'assets/img/bg/team_card_bg.png' %}"></div>
                        <div class="team-img">
                            <img src="{% static 'assets/img/team/team_1_3.jpg' %}" alt="Team">
                        </div>
                    </div>
                    <div class="box-content">
                        <span class="team-desig">Senior Farmers</span>
                        <h3 class="box-title"><a href="team-details.html">Emanuel Macule</a></h3>
                        <div class="social-links">
                            <a target="_blank" href="https://facebook.com/"><i class="fab fa-facebook-f"></i></a>
                            <a target="_blank" href="https://twitter.com/"><i class="fab fa-twitter"></i></a>
                            <a target="_blank" href="https://instagram.com/"><i class="fab fa-instagram"></i></a>
                            <a target="_blank" href="https://linkedin.com/"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const testimonialForm = document.getElementById('testimonial-form');
    
    if (testimonialForm) {
        testimonialForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            // Show loading state
            submitBtn.innerHTML = 'Submitting... <i class="fas fa-spinner fa-spin ms-2"></i>';
            submitBtn.disabled = true;
            
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'X-Requested-With': 'XMLHttpRequest',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Show success message
                    testimonialForm.reset();
                    const messageDiv = testimonialForm.querySelector('.form-messages');
                    messageDiv.innerHTML = '<div class="alert alert-success">Thank you for your testimonial! It has been submitted for review.</div>';
                    
                    // Scroll to message
                    messageDiv.scrollIntoView({ behavior: 'smooth' });
                } else {
                    throw new Error(data.error || 'Submission failed');
                }
            })
            .catch(error => {
                const messageDiv = testimonialForm.querySelector('.form-messages');
                messageDiv.innerHTML = '<div class="alert alert-danger">Sorry, there was an error submitting your testimonial. Please try again.</div>';
            })
            .finally(() => {
                // Reset button
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Clear message after 5 seconds
                setTimeout(() => {
                    const messageDiv = testimonialForm.querySelector('.form-messages');
                    messageDiv.innerHTML = '';
                }, 5000);
            });
        });
    }
});
</script>
{% endblock %}